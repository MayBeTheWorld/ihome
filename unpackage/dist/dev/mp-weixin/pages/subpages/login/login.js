"use strict";const e=require("../../../common/vendor.js");Array||e.resolveComponent("u-avatar")();const g=()=>"../../../node-modules/uview-plus/components/u-avatar/u-avatar.js";Math||g();const v={__name:"login",setup(r){const u=e.useStore(),d=!1;e.reactive([]);const t=e.ref(""),o=e.ref("");function i(){const a=t.value.trim();if(o.value.trim(),!a.length)return c("请输入账号"),console.log("请输入账号"),!1;if(o.length<6)return c("密码最短为 6 个字符"),console.log("密码最短为 6 个字符"),!1;e.index.showLoading({title:"登录中"}),console.log(t.value+","+o.value),e.index.$u.http.post("http://43.140.203.85:8102/user/login",{loginName:t.value,password:o.value}).then(n=>{console.log(n),n?console.log("登录成功"):e.index.showToast({icon:"none",title:"登录失败",duration:2e3}),u.commit("storeLogin",n.data.content),e.index.reLaunch({url:"/pages/index/index"})}).catch(n=>{e.index.showToast({icon:"none",title:"请求失败",duration:2e3}),console.log(n)}),e.index.hideLoading()}function c(a){e.index.showToast({icon:"none",title:a})}function l(){e.index.showToast({icon:"none",title:"服务尚未完善"})}return(a,n)=>e.e({a:e.p({shape:"circle",size:"150"}),b:t.value,c:e.o(s=>t.value=s.detail.value),d:e.o(i),e:o.value,f:e.o(s=>o.value=s.detail.value),g:e.o(i),h:e.o(l),i:e.o(l),j:d},{})}},_=e._export_sfc(v,[["__file","D:/Projects/爱佳装/pages/subpages/login/login.vue"]]);wx.createPage(_);
